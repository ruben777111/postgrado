{% load static %}
<div class="modal-dialog modal-lg " role="document">
  <div class="modal-content">
    <div class="modal-header">
      <div class="card border-primary" style="width: 100%;">
        <form id="informe" method="POST" action="{% url 'usuario:formulario_actividad_19' %}" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="card">  
            <div class="card-body">
              <h5>Maestrante: {{ object.maestrante }}</h5>
              R.U.: {{ object.ru }} <br>
              C.I.: {{ object.ci_usuario }}<br>
              TRIBUNAL 1: {{ object.maestrante.tribunaltesis.tribunal_tesis_1 }}<br>
              TRIBUNAL 2: {{ object.ci_usuario }}<br>
              
              Dictamen de la defensa de tesis : 
              
              {% if object.procedencia_tesis %}
              <div style="color: rgb(74, 105, 231);">
              PROCEDENTE
              </div>
              
              {% else %}
              <div style="color: rgb(231, 95, 74);">
                IMPROCEDENTE
                </div>
                
              {% endif %}
                
            
              <hr>
              {{ form.avance_tesis}}
              <input type="hidden" name="id_maestrante" value="{{ object.id_maestrante }}"><br>

              Titulo de la Tesis:
              <input type="text"  class="form-control" name="tema" placeholder="Tema de tesis" required><br>              
              Dictamen nota (numeral) :
              <input type="number"  class="form-control" name="numeral" required><br>              
             
              Dictamen escala (cualitativo):
              <input type="text"  class="form-control" name="cualitativo" placeholder="Dictamen de la nota" required><br>              
             
              Acta de defensa de Tesis:
              <input type="file" name="acta" class="form-control" id="informe" required accept="application/pdf"><br>
              Hoja de evaluación firmada por el Tribunal en pleno
              <input type="file" name="hoja" class="form-control" id="informe" required accept="application/pdf"><br>

              Designacion de Tribunal:
              <input type="file" name="carta_designacion" class="form-control" id="informe" required accept="application/pdf"><br>

     
              <hr>
           
            </div>
            <div class="modal-footer">
              <input type="checkbox" required>
              <div class="text-primary"> - Marque la casilla para confirmar el registro de la actividad.</div>
              <button type="button" class="colores-botoncerrar" data-bs-dismiss="modal">Cerrar</button>
              <button type="submit" class="colores-botonaceptar">Confirmar</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% block extrajs %}
<script>
  $('input[type="file"]').on('change', function(){
    var ext = $( this ).val().split('.').pop();
    if ($( this ).val() != '') {
      if(ext == "pdf"){
  
        if($(this)[0].files[0].size > 1048576){
          console.log("El documento excede el tamaño máximo");
          $('#modal-title').text('¡Precaución!');
          $('#modal-msg').html("Se solicita un archivo no mayor a 1MB. Por favor verifica.");
          $("#modal-gral").modal();           
          $(this).val('');
        }else{
          $("#modal-gral").hide();
        }
      }
      else
      {
        $( this ).val('');
        alert("Por favor, subir un archivo en formato PDF");
      }
    }
  });</script>
{% endblock extrajs %}